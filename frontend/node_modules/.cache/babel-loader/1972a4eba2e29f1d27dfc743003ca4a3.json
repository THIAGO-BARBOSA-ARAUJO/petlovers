{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/retr0/desenvolvimento_web/projetos_pessoais/petlovers/petlovers-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _asyncToGenerator from \"/home/retr0/desenvolvimento_web/projetos_pessoais/petlovers/petlovers-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/retr0/desenvolvimento_web/projetos_pessoais/petlovers/petlovers-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/retr0/desenvolvimento_web/projetos_pessoais/petlovers/petlovers-front/src/components/login/Login.js\",\n  _templateObject,\n  _templateObject2;\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, catch: function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nimport { useContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport backlogin from \"../../img/img-login.jpg\";\nimport imglogin from \"../../img/user-login.png\";\nimport imgpass from \"../../img/pass-login.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../context/UserContext\";\nimport loading from \"../../img/loading.gif\";\nimport ButtonGitHub from \"./ButtonLoginGitHub\";\nexport default function Login() {\n  var navigate = useNavigate();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    senha = _useState4[0],\n    setSenha = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loader = _useState8[0],\n    setLoader = _useState8[1];\n  var context = useContext(UserContext);\n  function sendLogin(_x) {\n    return _sendLogin.apply(this, arguments);\n  }\n  function _sendLogin() {\n    _sendLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event) {\n      var resposta;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            event.preventDefault();\n            _context2.prev = 1;\n            _context2.next = 4;\n            return axios.post(\"http://localhost:4000/login\", {\n              email: email,\n              password: senha\n            });\n          case 4:\n            resposta = _context2.sent;\n            localStorage.setItem(\"nameuser\", resposta.data.username);\n            localStorage.setItem(\"token\", resposta.data.token);\n            localStorage.setItem(\"userId\", resposta.data.userId);\n            navigate(\"/\");\n            _context2.next = 15;\n            break;\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log(_context2.t0);\n            MostrarError();\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[1, 11]]);\n    }));\n    return _sendLogin.apply(this, arguments);\n  }\n  function MostrarError() {\n    setError(true);\n    setTimeout(function () {\n      setError(false);\n    }, 5000);\n    clearTimeout();\n  }\n  var buscaDadosDoUsuario = function buscaDadosDoUsuario() {\n    setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var url, urlarray, code;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            url = window.location.href;\n            urlarray = url.split(\"=\");\n            code = ur; //   setLoader(true);\n            //   if (code) {\n            //     try {\n            //       const response = await axios.post(\n            //         \"http://localhost:4000/auth/logingithub\",\n            //         { code }\n            //       );\n            //       context.setUserData(response.data);\n            //       navigate(\"/dashboard\");\n            //     } catch (error) {\n            //       console.log(error);\n            //     }\n            //   } else {\n            //     console.log(\"não tem código\");\n            //   }\n            //   setLoader(false);\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    })), 100);\n  };\n  useEffect(function () {\n    buscaDadosDoUsuario();\n  }, []);\n  return /*#__PURE__*/React.createElement(FooterStyled, {\n    erro: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: sendLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Email ou senha errados\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"caixa-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imglogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    type: \"email\",\n    id: \"campologin\",\n    placeholder: \"Digite seu Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"caixa-pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imgpass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    type: \"password\",\n    id: \"camposenha\",\n    placeholder: \"Digite sua senha\",\n    value: senha,\n    onChange: function onChange(e) {\n      return setSenha(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"Login\"), loader ? /*#__PURE__*/React.createElement(StyledLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"loader\",\n    src: loading,\n    alt: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(ButtonGitHub, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    onClick: function onClick() {\n      return navigate(\"/register\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"N\\xE3o possui uma conta? Crie sua conta!\"))));\n}\nvar FooterStyled = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  background-image: url(\", \");\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  width: 100vw;\\n  height: 100vh;\\n  position: relative;\\n\\n  .container-login {\\n    width: 700px;\\n    height: 300px;\\n    background-color: white;\\n    position: absolute;\\n    left: 50%;\\n    top: 50%;\\n    transform: translate(-50%, -20%);\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: flex-end;\\n    align-items: center;\\n  }\\n\\n  .container-login .error {\\n    color: red;\\n    text-decoration: none;\\n    font-size: 16px;\\n    display: \", \";\\n  }\\n\\n  .container-login img {\\n    width: 32px;\\n    margin-right: 15px;\\n  }\\n\\n  .container-login input {\\n    height: 40px;\\n    border-radius: 5px;\\n    border: none;\\n    border-bottom: 2px solid #e9e9e9;\\n    outline: none;\\n  }\\n\\n  .caixa-login {\\n    margin-bottom: 40px;\\n  }\\n\\n  button {\\n    margin-top: 30px;\\n    width: 200px;\\n    height: 40px;\\n    box-shadow: none;\\n\\n    font-size: 18px;\\n    font-weight: 500;\\n  }\\n\\n  .container-login > p {\\n    padding-top: 20px;\\n    font-size: 14px;\\n    text-decoration: underline;\\n    cursor: pointer;\\n  }\\n\"])), backlogin, function (props) {\n  return props.erro === true ? \"block\" : \"none\";\n});\nvar StyledLoader = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  .loader {\\n    width: 50px;\\n  }\\n\"])));","map":{"version":3,"names":["useContext","useState","useEffect","styled","backlogin","imglogin","imgpass","useNavigate","React","axios","UserContext","loading","ButtonGitHub","Login","navigate","email","setEmail","senha","setSenha","error","setError","loader","setLoader","context","sendLogin","event","preventDefault","post","password","resposta","localStorage","setItem","data","username","token","userId","console","log","MostrarError","setTimeout","clearTimeout","buscaDadosDoUsuario","url","window","location","href","urlarray","split","code","ur","e","target","value","FooterStyled","div","props","erro","StyledLoader"],"sources":["/home/retr0/desenvolvimento_web/projetos_pessoais/petlovers/petlovers-front/src/components/login/Login.js"],"sourcesContent":["import { useContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport backlogin from \"../../img/img-login.jpg\";\nimport imglogin from \"../../img/user-login.png\";\nimport imgpass from \"../../img/pass-login.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../context/UserContext\";\nimport loading from \"../../img/loading.gif\";\nimport ButtonGitHub from \"./ButtonLoginGitHub\";\n\nexport default function Login() {\n  let navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [senha, setSenha] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [loader, setLoader] = useState(false);\n\n  const context = useContext(UserContext);\n\n  async function sendLogin(event) {\n    event.preventDefault();\n\n    try {\n      const resposta = await axios.post(\"http://localhost:4000/login\", {\n        email: email,\n        password: senha,\n      });\n\n      localStorage.setItem(\"nameuser\", resposta.data.username);\n      localStorage.setItem(\"token\", resposta.data.token);\n      localStorage.setItem(\"userId\", resposta.data.userId);\n      navigate(\"/\");\n    } catch (error) {\n      console.log(error);\n      MostrarError();\n    }\n  }\n\n  function MostrarError() {\n    setError(true);\n    setTimeout(() => {\n      setError(false);\n    }, 5000);\n    clearTimeout();\n  }\n\n  const buscaDadosDoUsuario = () => {\n    setTimeout(async () => {\n        const url = window.location.href\n        const urlarray = url.split(\"=\")\n        const code = ur\n    //   setLoader(true);\n    //   if (code) {\n    //     try {\n    //       const response = await axios.post(\n    //         \"http://localhost:4000/auth/logingithub\",\n    //         { code }\n    //       );\n    //       context.setUserData(response.data);\n    //       navigate(\"/dashboard\");\n    //     } catch (error) {\n    //       console.log(error);\n    //     }\n    //   } else {\n    //     console.log(\"não tem código\");\n    //   }\n    //   setLoader(false);\n    }, 100);\n  };\n\n  useEffect(() => {\n    buscaDadosDoUsuario();\n  }, []);\n\n  return (\n    <FooterStyled erro={error}>\n      <form onSubmit={sendLogin}>\n        <div className=\"container-login\">\n          <p className=\"error\">Email ou senha errados</p>\n          <div className=\"caixa-login\">\n            <div className=\"login\">\n              <img src={imglogin} />\n              <input\n                required\n                type=\"email\"\n                id=\"campologin\"\n                placeholder=\"Digite seu Email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"caixa-pass\">\n            <div className=\"pass\">\n              <img src={imgpass} />\n              <input\n                required\n                type=\"password\"\n                id=\"camposenha\"\n                placeholder=\"Digite sua senha\"\n                value={senha}\n                onChange={(e) => setSenha(e.target.value)}\n              />\n            </div>\n          </div>\n          <button>Login</button>\n          {loader ? (\n            <StyledLoader>\n              <img className=\"loader\" src={loading} alt=\"loading\" />\n            </StyledLoader>\n          ) : (\n            <ButtonGitHub/>\n          )}\n          <p onClick={() => navigate(\"/register\")}>\n            Não possui uma conta? Crie sua conta!\n          </p>\n        </div>\n      </form>\n    </FooterStyled>\n  );\n}\n\nconst FooterStyled = styled.div`\n  background-image: url(${backlogin});\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n\n  .container-login {\n    width: 700px;\n    height: 300px;\n    background-color: white;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -20%);\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n  }\n\n  .container-login .error {\n    color: red;\n    text-decoration: none;\n    font-size: 16px;\n    display: ${(props) => (props.erro === true ? \"block\" : \"none\")};\n  }\n\n  .container-login img {\n    width: 32px;\n    margin-right: 15px;\n  }\n\n  .container-login input {\n    height: 40px;\n    border-radius: 5px;\n    border: none;\n    border-bottom: 2px solid #e9e9e9;\n    outline: none;\n  }\n\n  .caixa-login {\n    margin-bottom: 40px;\n  }\n\n  button {\n    margin-top: 30px;\n    width: 200px;\n    height: 40px;\n    box-shadow: none;\n\n    font-size: 18px;\n    font-weight: 500;\n  }\n\n  .container-login > p {\n    padding-top: 20px;\n    font-size: 14px;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst StyledLoader = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .loader {\n    width: 50px;\n  }\n`;"],"mappings":";;;;;;+CACA;AADA,SAASA,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACvD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,wBAAwB;AAChD,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,YAAY,MAAM,qBAAqB;AAE9C,eAAe,SAASC,KAAK,GAAG;EAC9B,IAAIC,QAAQ,GAAGP,WAAW,EAAE;EAAC,gBAEHN,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/Bc,KAAK;IAAEC,QAAQ;EAAA,iBACIf,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BgB,KAAK;IAAEC,QAAQ;EAAA,iBACIjB,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlCkB,KAAK;IAAEC,QAAQ;EAAA,iBACMnB,QAAQ,CAAC,KAAK,CAAC;IAAA;IAApCoB,MAAM;IAAEC,SAAS;EAExB,IAAMC,OAAO,GAAGvB,UAAU,CAACU,WAAW,CAAC;EAAC,SAEzBc,SAAS;IAAA;EAAA;EAAA;IAAA,wEAAxB,kBAAyBC,KAAK;MAAA;MAAA;QAAA;UAAA;YAC5BA,KAAK,CAACC,cAAc,EAAE;YAAC;YAAA;YAAA,OAGEjB,KAAK,CAACkB,IAAI,CAAC,6BAA6B,EAAE;cAC/DZ,KAAK,EAAEA,KAAK;cACZa,QAAQ,EAAEX;YACZ,CAAC,CAAC;UAAA;YAHIY,QAAQ;YAKdC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEF,QAAQ,CAACG,IAAI,CAACC,QAAQ,CAAC;YACxDH,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACG,IAAI,CAACE,KAAK,CAAC;YAClDJ,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEF,QAAQ,CAACG,IAAI,CAACG,MAAM,CAAC;YACpDrB,QAAQ,CAAC,GAAG,CAAC;YAAC;YAAA;UAAA;YAAA;YAAA;YAEdsB,OAAO,CAACC,GAAG,cAAO;YAClBC,YAAY,EAAE;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA,CAElB;IAAA;EAAA;EAED,SAASA,YAAY,GAAG;IACtBlB,QAAQ,CAAC,IAAI,CAAC;IACdmB,UAAU,CAAC,YAAM;MACfnB,QAAQ,CAAC,KAAK,CAAC;IACjB,CAAC,EAAE,IAAI,CAAC;IACRoB,YAAY,EAAE;EAChB;EAEA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,GAAS;IAChCF,UAAU,0EAAC;MAAA;MAAA;QAAA;UAAA;YACDG,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI;YAC1BC,QAAQ,GAAGJ,GAAG,CAACK,KAAK,CAAC,GAAG,CAAC;YACzBC,IAAI,GAAGC,EAAE,EACnB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA,CACC,IAAE,GAAG,CAAC;EACT,CAAC;EAED/C,SAAS,CAAC,YAAM;IACduC,mBAAmB,EAAE;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,oBAAC,YAAY;IAAC,IAAI,EAAEtB,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACxB;IAAM,QAAQ,EAAEK,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACxB;IAAK,SAAS,EAAC,iBAAiB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC9B;IAAG,SAAS,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,wBAAsB,CAAI,eAC/C;IAAK,SAAS,EAAC,aAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC1B;IAAK,SAAS,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACpB;IAAK,GAAG,EAAEnB,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACtB;IACE,QAAQ;IACR,IAAI,EAAC,OAAO;IACZ,EAAE,EAAC,YAAY;IACf,WAAW,EAAC,kBAAkB;IAC9B,KAAK,EAAEU,KAAM;IACb,QAAQ,EAAE,kBAACmC,CAAC;MAAA,OAAKlC,QAAQ,CAACkC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAC1C,CACE,CACF,eAEN;IAAK,SAAS,EAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACzB;IAAK,SAAS,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACnB;IAAK,GAAG,EAAE9C,OAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACrB;IACE,QAAQ;IACR,IAAI,EAAC,UAAU;IACf,EAAE,EAAC,YAAY;IACf,WAAW,EAAC,kBAAkB;IAC9B,KAAK,EAAEW,KAAM;IACb,QAAQ,EAAE,kBAACiC,CAAC;MAAA,OAAKhC,QAAQ,CAACgC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAC1C,CACE,CACF,eACN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAQ,OAAK,CAAS,EACrB/B,MAAM,gBACL,oBAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACX;IAAK,SAAS,EAAC,QAAQ;IAAC,GAAG,EAAEV,OAAQ;IAAC,GAAG,EAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACzC,gBAEf,oBAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACd,eACD;IAAG,OAAO,EAAE;MAAA,OAAMG,QAAQ,CAAC,WAAW,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,0CAEzC,CAAI,CACA,CACD,CACM;AAEnB;AAEA,IAAMuC,YAAY,GAAGlD,MAAM,CAACmD,GAAG,6rCACLlD,SAAS,EAyBpB,UAACmD,KAAK;EAAA,OAAMA,KAAK,CAACC,IAAI,KAAK,IAAI,GAAG,OAAO,GAAG,MAAM;AAAA,CAAC,CAoCjE;AAED,IAAMC,YAAY,GAAGtD,MAAM,CAACmD,GAAG,sNAU9B"},"metadata":{},"sourceType":"module"}